{% extends 'main.html' %}

<style>
    .post-details {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
    }

    .post-title {
        font-size: 28px;
        font-weight: bold;
        margin-bottom: 16px;
    }

    .post-content {
        font-size: 18px;
        line-height: 1.5;
        margin-bottom: 16px;
    }

    .upvote-icon {
        float: right;
        cursor: pointer;
    }

    .comments {
        margin-top: 40px;
    }

    .comments h2 {
        font-size: 22px;
        font-weight: bold;
        margin-bottom: 20px;
    }

    .comment {
        margin-bottom: 20px;
    }

    .comment .comment-header {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }

    .comment {
        height: 40px;
        border-radius: 50%;
        margin-right: 10px;
    }

    .comment .username {
        font-size: 18px;
        font-weight: bold;
    }

    .comment .comment-body {
        font-size: 16px;
        line-height: 1.5;
    }

    .replies {
        margin-top: 20px;
    }

    .reply {
        margin-bottom: 10px;
    }

    .reply .reply-header {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }


    .reply .username {
        font-size: 16px;
        font-weight: bold;
    }

    .reply .reply-body {
        font-size: 14px;
        line-height: 1.5;
    }

    .post-details {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
    }

    .post-title {
        font-size: 28px;
        font-weight: bold;
        margin-bottom: 16px;
    }

    .post-content {
        font-size: 18px;
        line-height: 1.5;
        margin-bottom: 16px;
    }

    .upvote-icon {
        float: right;
        cursor: pointer;
    }

    .comments {
        margin-top: 25px;
    }

    .comments h2 {
        font-size: 22px;
        font-weight: bold;
        margin-bottom: 16px;
    }

    .comment {
        margin-bottom: 20px;
    }

    .comment .comment-header {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }

    .comment {
        height: 40px;
        border-radius: 50%;
        margin-right: 10px;
    }

    .comment .username {
        font-size: 18px;
        font-weight: bold;
    }

    .comment .comment-body {
        font-size: 16px;
        line-height: 1.5;
    }

    .replies {
        margin-top: 20px;
    }

    .reply {
        margin-bottom: 10px;
    }

    .reply .reply-header {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }


    .reply .username {
        font-size: 16px;
        font-weight: bold;
    }

    .reply .reply-body {
        font-size: 14px;
        line-height: 1.5;
    }
</style>

{% block content %}
<div class="post-details">
    <div class="upvote-icon">
        ^
    </div>
    <h1 class="post-title">{{post.title}}</h1>
    <div class="post-content">{{post.content}}</div>
    <div id="post-data">
        <div id="upvotes-count">{{post.upvotes|length}} points</div>
        <div id="author">by {{post.author.username}}</div>
        <div id="time-posted">{{ (now - post.created_at)|humanize() }}</div>
        <a href={{ url_for("post", postid=post.id) }} id="comments-count">{{post.comments|length}} comments</a>
    </div>
    <br />
    <form action={{ url_for("comment", postid=post.id) }} method="post">
        <textarea name="text" rows="8" cols="80" wrap="virtual"></textarea><br><br>
        <input type="submit" value="add comment">
    </form>

    <div class="comments">
        <h2>Comments</h2>
        {% for comment in comments %}
        <div class="comment">
            <div class="comment-header">
                <div id="comment-data" style="display: flex; flex-direction: row;">
                    <a href="" id="upvote-icon-cmnt">^</a>
                    <div style="margin-left:10px;" id="author-cmnt">{{comment.author.username}} </div>
                    <div id="time-posted" style="margin-left:10px;">{{ (now - comment.created_at)|humanize() }}</div>
                </div>
            </div>
            <div class="comment-body">{{comment.text}}</div>
        </div>
        <hr />
        {% endfor %}
        <div class="comment">
            <div class="comment-header">
                <div id="comment-data" style="display: flex; flex-direction: row;">
                    <a href="" id="upvote-icon-cmnt">^</a>
                    <div style="margin-left:10px;" id="author-cmnt">Username} </div>
                    <div id="time-posted" style="margin-left:10px;">{{ Time}}</div>
                </div>
            </div>
            <div class="comment-body">Comment body goes here</div>
            <div class="replies">
                <div class="reply">
                    <div class="reply-header">
                        <span class="username">Username</span>
                    </div>
                    <div class="reply-body">Reply body goes here</div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}